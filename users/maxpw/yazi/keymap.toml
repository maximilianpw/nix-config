# Yazi keymap - ranger-like bindings
# See https://yazi-rs.github.io/docs/configuration/keymap

[manager]
prepend_keymap = [
  # Quick navigation like ranger gh, ge, gu, etc.
  { on = ["g", "h"], run = "cd ~", desc = "Go to home" },
  { on = ["g", "e"], run = "cd /etc", desc = "Go to /etc" },
  { on = ["g", "u"], run = "cd /usr", desc = "Go to /usr" },
  { on = ["g", "d"], run = "cd ~/Downloads", desc = "Go to Downloads" },
  { on = ["g", "D"], run = "cd ~/Documents", desc = "Go to Documents" },
  { on = ["g", "p"], run = "cd ~/Projects", desc = "Go to Projects" },
  { on = ["g", "c"], run = "cd ~/.config", desc = "Go to config" },
  { on = ["g", "/"], run = "cd /", desc = "Go to root" },
  { on = ["g", "t"], run = "cd /tmp", desc = "Go to /tmp" },

  # Shell command (like ranger S)
  { on = ["S"], run = "shell '$SHELL' --block", desc = "Open shell here" },

  # Toggle hidden files (like ranger zh)
  { on = ["z", "h"], run = "hidden toggle", desc = "Toggle hidden files" },

  # Sorting (like ranger o* keys)
  { on = ["o", "n"], run = "sort natural --dir-first", desc = "Sort naturally" },
  { on = ["o", "N"], run = "sort natural --reverse --dir-first", desc = "Sort naturally (reverse)" },
  { on = ["o", "s"], run = "sort size --dir-first", desc = "Sort by size" },
  { on = ["o", "S"], run = "sort size --reverse --dir-first", desc = "Sort by size (reverse)" },
  { on = ["o", "m"], run = "sort mtime --dir-first", desc = "Sort by modified" },
  { on = ["o", "M"], run = "sort mtime --reverse --dir-first", desc = "Sort by modified (reverse)" },
  { on = ["o", "e"], run = "sort extension --dir-first", desc = "Sort by extension" },
  { on = ["o", "E"], run = "sort extension --reverse --dir-first", desc = "Sort by extension (reverse)" },
  { on = ["o", "a"], run = "sort alphabetical --dir-first", desc = "Sort alphabetically" },
  { on = ["o", "A"], run = "sort alphabetical --reverse --dir-first", desc = "Sort alphabetically (reverse)" },

  # Yank path (like ranger yp, yd, yn)
  { on = ["y", "p"], run = "copy path", desc = "Copy file path" },
  { on = ["y", "d"], run = "copy dirname", desc = "Copy directory path" },
  { on = ["y", "n"], run = "copy filename", desc = "Copy filename" },

  # Create directory (like ranger F7 / console mkdir)
  { on = ["m", "d"], run = "create", desc = "Create file/directory" },

  # Rename (like ranger cw)
  { on = ["c", "w"], run = "rename --cursor=before_ext", desc = "Rename file" },

  # Filter (like ranger zf)
  { on = ["z", "f"], run = "filter --smart", desc = "Filter files" },

  # Bulk rename
  { on = ["b", "r"], run = "bulk_rename", desc = "Bulk rename" },

  # Tab operations (like ranger tabs)
  { on = ["<C-n>"], run = "tab_create --current", desc = "New tab" },
  { on = ["<C-w>"], run = "tab_close 0", desc = "Close tab" },
  { on = ["<Tab>"], run = "tab_switch 1 --relative", desc = "Next tab" },
  { on = ["<S-Tab>"], run = "tab_switch -1 --relative", desc = "Previous tab" },
  { on = ["1"], run = "tab_switch 0", desc = "Switch to tab 1" },
  { on = ["2"], run = "tab_switch 1", desc = "Switch to tab 2" },
  { on = ["3"], run = "tab_switch 2", desc = "Switch to tab 3" },
  { on = ["4"], run = "tab_switch 3", desc = "Switch to tab 4" },

  # Open in editor
  { on = ["E"], run = "open --interactive", desc = "Open interactively" },

  # Search with fzf (like ranger travel)
  { on = ["f"], run = "plugin fzf", desc = "Find with fzf" },
  
  # Search within files
  { on = ["F"], run = "search rg", desc = "Search file contents (rg)" },
]

[input]
prepend_keymap = [
  # Emacs-style bindings for input (like ranger console)
  { on = ["<C-a>"], run = "move -999", desc = "Move to start" },
  { on = ["<C-e>"], run = "move 999", desc = "Move to end" },
  { on = ["<C-k>"], run = "kill 999", desc = "Kill to end" },
  { on = ["<C-u>"], run = "kill -999", desc = "Kill to start" },
  { on = ["<C-w>"], run = "backward_kill_word", desc = "Kill word backward" },
]
